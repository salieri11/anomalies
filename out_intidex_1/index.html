<!doctype html>
<html lang="en">
<meta charset="utf-8">
<title>MDS Anomaly Report</title>

    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 20px; }
      h1, h2, h3 { margin-top: 1.2em; }
      code { background: #f5f5f5; padding: 2px 4px; border-radius: 4px; }
      .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(420px, 1fr)); gap: 16px; }
      .card { border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
      .muted { color: #6b7280; font-size: 0.95em; }
      table { border-collapse: collapse; width: 100%; }
      th, td { border: 1px solid #e5e7eb; padding: 6px 8px; text-align: left; }
      th { background: #f9fafb; }
      img { width: 100%; height: auto; border-radius: 8px; }
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
    </style>
    
<body>
  <h1>MDS Anomaly Report</h1>
  <p class="muted">Generated by mds_anomaly_poc.py</p>

  <h2>Run parameters</h2>
  <pre class="mono">{
  "ewma_span": 10,
  "z_threshold": 3.0,
  "min_metrics_for_event": 2,
  "max_gap_sec": 30.0,
  "page_size": 10,
  "baseline_files": [],
  "stress_files": [
    "intidex_mds_metrics.csv"
  ],
  "base_first_seconds": 1200.0,
  "iforest_weight": 0.3,
  "hybrid_thresh": 0.6,
  "warmup_sec_per_phase": 10.0,
  "min_duration_sec": 8.0,
  "min_severity": 0.35
}</pre>

  <h2>Artifacts</h2>
  
      <ul>
        <li><a href="anomaly_summary_per_metric.csv">anomaly_summary_per_metric.csv</a></li>
        <li><a href="anomaly_summary_per_phase.csv">anomaly_summary_per_phase.csv</a></li>
        <li><a href="features_with_z.csv">features_with_z.csv</a></li>
        <li><a href="anomaly_events.csv">anomaly_events.csv</a></li>
        <li><a href="anomaly_events.json">anomaly_events.json</a></li>
        <li><a href="INDEX.json">INDEX.json</a></li>
      </ul>
    

  <h2>Anomaly events</h2>
  
        <table>
          <thead>
            <tr>
              <th>Event</th><th>Start</th><th>End</th><th>Duration</th>
              <th>Phase mix</th><th>#metricsâ‰¥z</th><th>max|z|</th>
              <th>Severity</th><th>Label</th><th>Reasoning</th><th>Top metrics</th>
            </tr>
          </thead>
          <tbody><tr><td>E5</td><td>2025-11-12 00:41:00+00:00</td><td>2025-11-12 00:41:11+00:00</td><td>11.0s</td><td>stress:3</td><td>3</td><td>7.4</td><td>0.46</td><td>moderate</td><td>widespread latency elevation vs baseline; resource pressure (memory/sessions)</td><td class='mono'>mkdir_latency_s_resid(up,7.4), mds_journal_latency_s_resid(up,3.9), mds_reply_latency_s_resid(up,3.5), getattr_latency_s_resid(up,1.9), sessions_open_resid(down,1.1), mds_rss_bytes_resid(down,0.6)</td></tr><tr><td>E7</td><td>2025-11-12 01:00:45+00:00</td><td>2025-11-12 01:00:55+00:00</td><td>10.0s</td><td>stress:2</td><td>2</td><td>7.4</td><td>0.45</td><td>moderate</td><td>widespread latency elevation vs baseline; resource pressure (memory/sessions)</td><td class='mono'>mds_rss_bytes_resid(up,7.4), mkdir_latency_s_resid(up,5.6), sessions_open_resid(down,3.8), mds_reply_latency_s_resid(up,3.3), mds_journal_latency_s_resid(up,1.6), getattr_latency_s_resid(up,1.4)</td></tr></tbody>
        </table>

  <h2>All-signals (paginated)</h2>
  <div class="grid"><div class='card'><img src='all_signals_anomalies_p1.png' alt='all-signals'><div class='muted'>all_signals_anomalies_p1.png</div></div>
<div class='card'><img src='all_signals_anomalies_p2.png' alt='all-signals'><div class='muted'>all_signals_anomalies_p2.png</div></div></div>

  <h2>Per-event context (zoomed)</h2>
  <div class="grid"><div class='card'><img src='event_E5_context.png' alt='event context'><div class='muted'>event_E5_context.png</div></div>
<div class='card'><img src='event_E7_context.png' alt='event context'><div class='muted'>event_E7_context.png</div></div></div>

  <p class="muted">Tip: open images in a new tab for full-size view.</p>
</body>
</html>
