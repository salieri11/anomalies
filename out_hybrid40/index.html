<!doctype html>
<html lang="en">
<meta charset="utf-8">
<title>MDS Anomaly Report</title>

    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 20px; }
      h1, h2, h3 { margin-top: 1.2em; }
      code { background: #f5f5f5; padding: 2px 4px; border-radius: 4px; }
      .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(420px, 1fr)); gap: 16px; }
      .card { border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
      .muted { color: #6b7280; font-size: 0.95em; }
      table { border-collapse: collapse; width: 100%; }
      th, td { border: 1px solid #e5e7eb; padding: 6px 8px; text-align: left; }
      th { background: #f9fafb; }
      img { width: 100%; height: auto; border-radius: 8px; }
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
    </style>
    
<body>
  <h1>MDS Anomaly Report</h1>
  <p class="muted">Generated by mds_anomaly_poc.py</p>

  <h2>Run parameters</h2>
  <pre class="mono">{
  "ewma_span": 10,
  "z_threshold": 3.0,
  "min_metrics_for_event": 2,
  "max_gap_sec": 30.0,
  "page_size": 10,
  "baseline_files": [
    "mds_metrics_base.csv"
  ],
  "stress_files": [
    "mds_metrics_stress.csv",
    "mds_metrics_stress_1.csv",
    "mds_metrics_base_1.csv"
  ],
  "iforest_weight": 0.4,
  "hybrid_thresh": 0.6,
  "warmup_sec_per_phase": 10.0,
  "min_duration_sec": 8.0,
  "min_severity": 0.45
}</pre>

  <h2>Artifacts</h2>
  
      <ul>
        <li><a href="anomaly_summary_per_metric.csv">anomaly_summary_per_metric.csv</a></li>
        <li><a href="anomaly_summary_per_phase.csv">anomaly_summary_per_phase.csv</a></li>
        <li><a href="features_with_z.csv">features_with_z.csv</a></li>
        <li><a href="anomaly_events.csv">anomaly_events.csv</a></li>
        <li><a href="anomaly_events.json">anomaly_events.json</a></li>
        <li><a href="INDEX.json">INDEX.json</a></li>
      </ul>
    

  <h2>Anomaly events</h2>
  
        <table>
          <thead>
            <tr>
              <th>Event</th><th>Start</th><th>End</th><th>Duration</th>
              <th>Phase mix</th><th>#metricsâ‰¥z</th><th>max|z|</th>
              <th>Severity</th><th>Label</th><th>Reasoning</th><th>Top metrics</th>
            </tr>
          </thead>
          <tbody><tr><td>E2</td><td>2025-11-04 12:11:45+00:00</td><td>2025-11-04 12:11:56+00:00</td><td>11.0s</td><td>stress:2</td><td>2</td><td>52.6</td><td>0.54</td><td>moderate</td><td>widespread latency elevation vs baseline; rate/throughput shift vs baseline; resource pressure (memory/sessions)</td><td class='mono'>mds_journal_latency_s_resid(down,52.6), objecter_op_latency_s_resid(down,14.8), objecter_ops_rate_resid(up,10.1), mds_rss_bytes_resid(up,6.2), objecter_send_bytes_rate_resid(up,2.3), mds_heap_bytes_resid(up,0.1)</td></tr><tr><td>E3</td><td>2025-11-04 12:47:22+00:00</td><td>2025-11-04 12:47:35+00:00</td><td>13.0s</td><td>stress:2</td><td>2</td><td>8.2</td><td>0.47</td><td>moderate</td><td>widespread latency elevation vs baseline; rate/throughput shift vs baseline; resource pressure (memory/sessions)</td><td class='mono'>mds_journal_latency_s_resid(down,8.2), objecter_ops_rate_resid(down,5.0), objecter_op_latency_s_resid(down,3.5), objecter_send_bytes_rate_resid(up,3.4), mds_rss_bytes_resid(up,0.2), mds_heap_bytes_resid(down,0.2)</td></tr><tr><td>E4</td><td>2025-11-04 13:23:47+00:00</td><td>2025-11-04 13:24:08+00:00</td><td>21.0s</td><td>stress:4</td><td>4</td><td>25.9</td><td>0.60</td><td>moderate</td><td>widespread latency elevation vs baseline; rate/throughput shift vs baseline; resource pressure (memory/sessions)</td><td class='mono'>objecter_op_latency_s_resid(up,25.9), objecter_ops_rate_resid(up,13.8), mds_journal_latency_s_resid(down,7.1), objecter_send_bytes_rate_resid(up,2.5), mds_rss_bytes_resid(down,0.3), mds_heap_bytes_resid(down,0.2)</td></tr></tbody>
        </table>

  <h2>All-signals (paginated)</h2>
  <div class="grid"><div class='card'><img src='all_signals_anomalies_p1.png' alt='all-signals'><div class='muted'>all_signals_anomalies_p1.png</div></div>
<div class='card'><img src='all_signals_anomalies_p2.png' alt='all-signals'><div class='muted'>all_signals_anomalies_p2.png</div></div></div>

  <h2>Per-event context (zoomed)</h2>
  <div class="grid"><div class='card'><img src='event_E2_context.png' alt='event context'><div class='muted'>event_E2_context.png</div></div>
<div class='card'><img src='event_E3_context.png' alt='event context'><div class='muted'>event_E3_context.png</div></div>
<div class='card'><img src='event_E4_context.png' alt='event context'><div class='muted'>event_E4_context.png</div></div></div>

  <p class="muted">Tip: open images in a new tab for full-size view.</p>
</body>
</html>
